<!DOCTYPE html>
<html lang="ko">

  <head>
    <meta charset="UTF-8">
    <title>회원가입 폼</title>

    <style>
      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }

      body {
        padding: 20px;
        background-color: white;
      }

      .form-group {
        margin-bottom: 15px;
      }

      label {
        margin-right: 0.7em;
      }

      label[for="interest-other"] {
        margin: 0;
      }

      .error {
        color: red;
        font-size: 0.9em;
      }

      fieldset {
        margin-bottom: 20px;
        padding: 3em;
        border: 1px solid #ccc;
      }

      legend {
        font-weight: bold;
        padding: 0 10px;
      }

      ul {
        padding: 0;
        margin: 0;
      }

      li {
        margin-bottom: 10px;
      }

      textarea {
        /* 문제 7-1 제공된 영상과 같이 부모의 폭을 따르도록 하세요 */
        margin: 0.5em;
      }

      /* 문제 7-3 */

      #bioCounter {
        font-size: 0.9em;
        color: #555;
        margin-top: 5px;
      }

      .required-label::after {
        content: '*';
        color: red;
        margin-left: 4px;
        font-weight: bold;
      }
    </style>
  </head>

  <body>
    <h2>회원가입</h2>
    <fieldset>
      <legend>기본 정보</legend>
      <ul>
        <li class="form-group">
          <label for="name">이름</label>
          <input type="text" id="name" name="name2" required>
        </li>
        <li class="form-group">
          <label for="email">이메일</label>
          <input type="email" id="email" name="email2" required>

        </li>
        <li class="form-group">
          <label for="birth">생년월일</label>
          <input type="date" id="birth" name="birth2" required>
        </li>
        <div id="ageDisplay"></div>
      </ul>
    </fieldset>

    <fieldset>
      <legend>추가 정보</legend>
      <ul>
        <li class="form-group">
          <!-- 문제 7-6 -->
          <label>성별</label>
          <label for="gender-male">남성</label>
          <label for="gender-female">여성</label>
        </li>
        <li class="form-group">
          <!-- 문제 7-7 -->
          <label>관심 분야</label>
          <label for="interest-frontend">프론트엔드</label>
          <label for="interest-backend">백엔드</label>
          <label for="interest-data">데이터베이스</label>
          <label for="interest-other">기타:</label>
          <input type="text" id="interest-other" name="interests2" value="">
        </li>
        <div id="interestError" class="error"></div>

        <li class="form-group">
          <label for="bio">자기소개</label>
          <!-- 문제 7-2 -->
          <textarea id="bio" name="bio2" rows="4" maxlength="300"></textarea>
        </li>
        <div id="bioCounter"></div>
      </ul>
    </fieldset>

    <fieldset>
      <legend>보안 정보</legend>
      <ul>
        <li class="form-group">
          <label for="password">비밀번호</label>
          <!-- 문제 7-4 -->
          <input type="password" id="password" name="password2">
        </li>
        <div id="passwordError" class="error"></div>
      </ul>
    </fieldset>

    <script>
      // JavaScript 문제2 이대로 주석처리를 해제하면 에러가 납니다. 코드의 비어있는 부분을 채워넣어 완성하세요.
      // document.querySelectorAll('').forEach(input => {
      //   const id = input.id;
      //   if (label) {
      //     label.classList.add('');
      //   }
      // });

      const birthInput = document.getElementById('birth');
      const ageDisplay = document.getElementById('ageDisplay');
      // JavaScript 문제3-1: 입력요소의 max 속성값을 오늘 날짜로 지정


      // JavaScript 문제3-2: 생년월일 → 나이 자동 계산
      birthInput.addEventListener('change', () => {
        const birthDate = new Date(birthInput.value);
        const today = new Date();

        let age = today.getFullYear() - birthDate.getFullYear();
        const m = today.getMonth() - birthDate.getMonth();
        // 만 나이를 계산하기 위해 빠져있는 로직이 있습니다.
        // 코드를 완성하세요.

        ageDisplay.textContent = `나이: ${age}세`;
        ageDisplay.style.color = '#000';
      });

      // JavaScript 문제4 입력에 따른 자기소개 글자 입력 남은 수 표시

      // JavaScript 문제5 폼 제출 시 유효성 검사
      // JavaScript 문제5-2 A 관심분야 선택 유효성 검사
      // JavaScript 문제5-2 B 비밀번호 유효성 검사


    </script>
  </body>

</html>